{"version":3,"file":"FmoneTree.vue.js","sources":["../../../../../src/components/FmoneTree/FmoneTree.vue"],"sourcesContent":["<template>\r\n  <div class=\"fmcoe-tree tree-expand\" ref=\"fmoneTree\">\r\n    <transition name=\"el-fade-in\">\r\n      <div class=\"fmcoe-tree-show\" v-show=\"showtree\">\r\n        <div class=\"rightsvg\" @click=\"collapsetree\">\r\n          <svg-icon class=\"sub-select-icon\" icon-name=\"icon-shousuojiantouzuo\" color=\"#A0A0A0\" />\r\n        </div>\r\n        <div class=\"tree-header\">\r\n          <span class=\"titlestyle\">{{ title }}</span>\r\n          <svg-icon\r\n            class=\"sub-select-icon\"\r\n            @click=\"headerbutton\"\r\n            v-has-permission=\"[savePermission]\"\r\n            size=\"17px\"\r\n            :icon-name=\"iconname\"\r\n            color=\"#A0A0A0\"\r\n            v-show=\"titleshow\"\r\n          />\r\n        </div>\r\n        <div class=\"sub-title\" v-if=\"$slots.subTitle\">\r\n          <slot name=\"subTitle\"></slot>\r\n        </div>\r\n        <slot name=\"treeSearch\" v-if=\"onSearch\">\r\n          <el-input\r\n            v-if=\"onSearch\"\r\n            v-model=\"filterInput\"\r\n            class=\"fmone-tree-search\"\r\n            :placeholder=\"$t('common.placeholder.search')\"\r\n            @input=\"inputchange\"\r\n          >\r\n            <template #prefix>\r\n              <svg-icon class=\"sub-select-icon\" icon-name=\"icon-sousuo\" color=\"#A0A0A0\" />\r\n            </template>\r\n          </el-input>\r\n        </slot>\r\n\r\n        <div class=\"scroll-content\">\r\n          <!--<el-scrollbar>-->\r\n          <el-tree\r\n            ref=\"eltree\"\r\n            :data=\"datalist\"\r\n            :props=\"defaultProps\"\r\n            :node-key=\"nodekey\"\r\n            :highlight-current=\"highlight\"\r\n            :expand-on-click-node=\"false\"\r\n            :filter-node-method=\"filterNode\"\r\n            :current-node-key=\"currentNodeKey\"\r\n            :default-expanded-keys=\"expandedKeys\"\r\n            :draggable=\"draggable\"\r\n            :allow-drag=\"allowDrag\"\r\n            :allow-drop=\"allowDrop\"\r\n            @node-click=\"handleNodeClick\"\r\n            @node-expand=\"handleNodeExpand\"\r\n            @node-collapse=\"handleNodeCollapse\"\r\n            @node-drop=\"handleDrop\"\r\n            style=\"flex: 1\"\r\n          >\r\n            <template #default=\"{ node }\">\r\n              <span class=\"custom-tree-node\">\r\n                <span class=\"text-ellipsis\" :title=\"node.label\" style=\"width: calc(100% - 48px)\">\r\n                  <slot name=\"label\" :node=\"node\">{{ node.label === 'All' ? $t(node.label) : node.label }}</slot>\r\n                </span>\r\n                <span\r\n                  v-if=\"\r\n                    ((currentNodeData[nodekey] && currentNodeData[nodekey] === node.data[nodekey]) ||\r\n                      (currentNode.data && node.data.id === currentNode.data.id && node.level === currentNode.level)) &&\r\n                    menuList.length > 0 &&\r\n                    preset &&\r\n                    leastOne\r\n                  \"\r\n                  v-has-permission=\"[savePermission, deletePermission]\"\r\n                  style=\"margin: 0 18px; width: 12px\"\r\n                >\r\n                  <el-dropdown style=\"line-height: 40px; display: inline-block\" @command=\"handleCommand\">\r\n                    <el-link>\r\n                      <svg-icon class=\"sub-select-icon\" icon-name=\"icon-shufenleicaozuo\" color=\"#A0A0A0\" />\r\n                    </el-link>\r\n                    <template #dropdown>\r\n                      <el-dropdown-menu class=\"dropdownmeunstyle\">\r\n                        <!-- 展示tree右测...的按钮 -->\r\n                        <template v-for=\"(item, index) in menuList\" :key=\"item.clickname\">\r\n                          <el-dropdown-item\r\n                            :command=\"item.clickname\"\r\n                          >\r\n                            {{ item.name }}\r\n                          </el-dropdown-item>\r\n                        </template>\r\n                      </el-dropdown-menu>\r\n                    </template>\r\n                  </el-dropdown>\r\n                </span>\r\n              </span>\r\n            </template>\r\n          </el-tree>\r\n          <!--</el-scrollbar>-->\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <transition name=\"el-fade-in\">\r\n      <div class=\"collapse\" v-show=\"!showtree\" @click=\"collapsetree\">\r\n        <svg-icon class=\"sub-select-icon\" icon-name=\"icon-shuangjiantouyou\" color=\"#A0A0A0\" />\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref } from 'vue';\r\nimport defaultProps from './defaults';\r\nexport default defineComponent({\r\n  name: 'FmoneTree',\r\n\r\n  components: {},\r\n\r\n  props: defaultProps,\r\n\r\n  setup(props, { emit, expose }) {\r\n    const fmoneTree = ref();\r\n    const eltree = ref();\r\n    const filterInput = ref(''); //查询数据\r\n    const defaultPropLabel = ref(''); // 默认prop限制字段\r\n    defaultPropLabel.value = props.defaultProps.label;\r\n    // 是否是内置\r\n    const preset = ref(false);\r\n    // 当前层级操作按钮\r\n    const menuList = computed(() => {\r\n      return props.menulist;\r\n    });\r\n    // 输入框输入\r\n    const inputchange = (val) => {\r\n      eltree.value.filter(val);\r\n    };\r\n\r\n    watch(\r\n      () => props.datalist,\r\n      async (val) => {\r\n        if (filterInput.value !== '') {\r\n          await nextTick();\r\n          inputchange(filterInput.value);\r\n        }\r\n      },\r\n      {\r\n        immediate: true,\r\n      },\r\n    );\r\n\r\n    // 过滤树值\r\n    const filterNode = (value, data) => {\r\n      if (!value) return true;\r\n      return data[defaultPropLabel.value].includes(value);\r\n    };\r\n    // 点击后获取到的当前选中节点数据\r\n    const currentNodeData = ref({});\r\n    // 当前选中节点\r\n    const currentNode = ref({});\r\n    // 节点点击\r\n    const handleNodeClick = (data, node) => {\r\n      currentNodeData.value = data;\r\n      currentNode.value = node;\r\n      // 默认数据不可编辑修改\r\n      if (!props.specialKey) {\r\n        preset.value = true;\r\n      } else {\r\n        let normalMenu = menuList.value.filter((item) => {\r\n          return !item.special || (props.specialKey && !currentNodeData.value[props.specialKey]);\r\n        });\r\n        preset.value = normalMenu.length > 0;\r\n      }\r\n\r\n      emit('node-click', data, node);\r\n    };\r\n    // 点击头部按钮加号\r\n    const headerbutton = () => {\r\n      // 清空高亮选中\r\n      eltree.value.setCurrentKey(null);\r\n      currentNodeData.value = {};\r\n      currentNode.value = {};\r\n      emit('headerbutton');\r\n    };\r\n    // 点击tree按钮之后触发的按钮信息\r\n    const handleCommand = (data) => {\r\n      emit(data, currentNodeData.value);\r\n    };\r\n    // 收起展开树\r\n    const showtree = ref(true);\r\n    const collapsetree = () => {\r\n      if (fmoneTree.value.classList.contains('tree-expand')) {\r\n        fmoneTree.value.classList.remove('tree-expand');\r\n        fmoneTree.value.classList.add('tree-collapse');\r\n      } else {\r\n        fmoneTree.value.classList.remove('tree-collapse');\r\n        fmoneTree.value.classList.add('tree-expand');\r\n      }\r\n\r\n      showtree.value = !showtree.value;\r\n      emit('showtreeClick', showtree.value);\r\n    };\r\n\r\n    const setCurrentKey = (key, node) => {\r\n      eltree.value.setCurrentKey(key);\r\n      if (node) {\r\n        currentNodeData.value = node.data;\r\n        currentNode.value = node;\r\n        // 默认数据不可编辑修改\r\n        if (!props.specialKey) {\r\n          preset.value = true;\r\n        } else {\r\n          let normalMenu = menuList.value.filter((item) => {\r\n            return !item.special || (props.specialKey && !currentNodeData.value[props.specialKey]);\r\n          });\r\n          preset.value = normalMenu.length > 0;\r\n        }\r\n      }\r\n    };\r\n\r\n    const removeSelectNode = () => {\r\n      eltree.value.setCurrentKey();\r\n      currentNodeData.value = {};\r\n      currentNode.value = {};\r\n    };\r\n\r\n    const expandedKeys = ref([]);\r\n    const setExpandedKeys = (key) => {\r\n      if (!(expandedKeys.value).includes(key)) {\r\n        (expandedKeys.value).push(key);\r\n      }\r\n    };\r\n\r\n    // 节点被展开时触发的事件\r\n    const handleNodeExpand = (data) => {\r\n      (expandedKeys.value).push(data.nodeKey);\r\n    };\r\n\r\n    // 节点被关闭时触发的事件\r\n    const handleNodeCollapse = (_data, node) => {\r\n      recursiveNode(node);\r\n    };\r\n\r\n    // 递归遍历当前节点\r\n    const recursiveNode = (node) => {\r\n      var index = (expandedKeys.value).indexOf(node.data.nodeKey);\r\n      if (index != -1) {\r\n        expandedKeys.value.splice(index, 1);\r\n      }\r\n      node.childNodes.forEach((childNode) => {\r\n        recursiveNode(childNode);\r\n      });\r\n    };\r\n\r\n    const getCurrentNode = () => {\r\n      return eltree.value.getCurrentNode();\r\n    };\r\n    const getCurrentKey = () => {\r\n      return eltree.value.getCurrentKey();\r\n    };\r\n    const getNode = (key) => {\r\n      return eltree.value.getNode(key);\r\n    };\r\n\r\n    const allowDrop = (draggingNode, dropNodee, type) => {\r\n      if (!props.internalTree) {\r\n        // 单节点只允许拖动排序\r\n        if (props.signLevelTree && type === 'inner') {\r\n          return false;\r\n        }\r\n        /*\r\n        双节点并且目标节点是二级并且是inner操作;\r\n        双节点并且目标节点是一级并且拖动节点有子节点并且是inner操作;\r\n        双节点并且目标节点是二级并且拖动节点有子节点并且不是inner操作;\r\n        以上情况不允许拖动\r\n        */\r\n        if (\r\n          (props.doubleLevelTree && dropNode.level === 2 && type == 'inner') ||\r\n          (props.doubleLevelTree && dropNode.level === 1 && draggingNode.childNodes.length != 0 && type == 'inner') ||\r\n          (props.doubleLevelTree && draggingNode.childNodes.length != 0 && dropNode.level === 2 && type != 'inner')\r\n        ) {\r\n          return false;\r\n        }\r\n\r\n        /*\r\n        相同节点内拖动\r\n        判断一：拖动节点和目标节点层级不一致\r\n        判断二：拖动节点和目标节点层级一致且(拖动节点和目标节点的父节点不是同一个||是inner操作)\r\n        那么不允许拖动\r\n        */\r\n        if (\r\n          props.sameLevelTree &&\r\n          (draggingNode.level !== dropNode.level ||\r\n            (draggingNode.level === dropNode.level && (draggingNode.parent.data.id !== dropNode.parent.data.id || type == 'inner')))\r\n        ) {\r\n          return false;\r\n        }\r\n\r\n        /*\r\n        双层节点，以及只允许同级排序，二级允许再不同一级内拖动排序\r\n        判断一：拖动节点和目标节点层级不一致\r\n        判断二：拖动节点和目标节点层级一致且(拖动节点和目标节点的父节点不是同一个||是inner操作)\r\n        那么不允许拖动\r\n        */\r\n        if (\r\n          props.doubleSameLevelTree &&\r\n          (draggingNode.level !== dropNode.level || (draggingNode.level === dropNode.level && type === 'inner'))\r\n        ) {\r\n          return false;\r\n        }\r\n        // 如果时内置节点，不允许任何关于拖拽的操作\r\n        if (draggingNode.data.preset || dropNode.data.preset) {\r\n          return false;\r\n        }\r\n\r\n        return true;\r\n      } else {\r\n        // 如果是内置节点树\r\n        if (\r\n          (draggingNode.parent.data[props.nodekey] === dropNode.data[props.nodekey] && type === 'inner') ||\r\n          (draggingNode.parent.data[props.nodekey] === dropNode.parent.data[props.nodekey] && type !== 'inner')\r\n        ) {\r\n          // 无法单纯通过节点以及type之间的关系进行完全阻止\r\n          if (draggingNode.level > dropNode.level) {\r\n            return false;\r\n          }\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n    };\r\n    const allowDrag = (draggingNode) => {\r\n      if (!props.internalTree) {\r\n        return true;\r\n      } else {\r\n        if (draggingNode.level === 1) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n    };\r\n    const action = {\r\n      before: 'moveBefore',\r\n      after: 'moveAfter',\r\n      inner: 'appendChild',\r\n    };\r\n    const handleDrop = (draggingNode, dropNode, dropType) => {\r\n      console.log(draggingNode, dropNode);\r\n      // 当时inner操作时，父级节点必须，最后一个子节点不一定存在\r\n      if (dropType === 'inner') {\r\n        const parentNode = dropNode;\r\n        let targetNode = null;\r\n        if (parentNode.childNodes && parentNode.childNodes.length > 1) {\r\n          targetNode = parentNode.childNodes[parentNode.childNodes.length - 2];\r\n        }\r\n        console.log(targetNode, parentNode);\r\n        emit('drop-end', draggingNode, targetNode, action[dropType], parentNode);\r\n      } else {\r\n        emit('drop-end', draggingNode, dropNode, action[dropType]);\r\n      }\r\n    };\r\n\r\n    expose({\r\n      inputchange,\r\n      setCurrentKey,\r\n      setExpandedKeys,\r\n      getCurrentNode,\r\n      getCurrentKey,\r\n      getNode,\r\n      removeSelectNode,\r\n      handleNodeClick,\r\n    });\r\n\r\n    const hasPermission = (permission) => {\r\n      //获取这个客户的所有的权限信息\r\n      if (permission && permission.length > 0) {\r\n        const permissionFlag = permission; //传过来的值\r\n\r\n        if (permissions.includes('*:*:*')) {\r\n          return true;\r\n        }\r\n\r\n        // 判断\r\n        return permissions.some((permission) => {\r\n          return permissionFlag.includes(permission);\r\n        });\r\n      }\r\n    };\r\n\r\n    // 至少有一条数据才展示...\r\n    const leastOne = computed(() => {\r\n      let showOptList = menuList.value.filter((item) => {\r\n        return (\r\n          hasPermission([item.haspermissionkey]) &&\r\n          ((!props.specialKey && props.maxLevel === Infinity) ||\r\n            !item.special ||\r\n            (props.specialKey && !currentNodeData.value[props.specialKey]) ||\r\n            (item.special && props.maxLevel !== Infinity && (currentNode.value).level < props.maxLevel)) &&\r\n          (!props.internalTree ||\r\n            (props.internalTree && item.topLevelOpt && (currentNode.value).level === 1) ||\r\n            (props.internalTree && item.nextLevelOpt && (currentNode.value).level > 1)) &&\r\n          (!props.doubleLevelTree ||\r\n            (props.doubleLevelTree && item.topLevelOpt && (currentNode.value).level === 1) ||\r\n            (props.doubleLevelTree && item.nextLevelOpt && (currentNode.value).level > 1))\r\n        );\r\n      });\r\n      if (showOptList.length === 0) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n\r\n    return {\r\n      fmoneTree,\r\n      eltree,\r\n      currentNodeData,\r\n      currentNode,\r\n      preset,\r\n      menuList,\r\n      defaultPropLabel,\r\n      filterInput,\r\n      showtree,\r\n      expandedKeys,\r\n      headerbutton,\r\n      inputchange,\r\n      filterNode,\r\n      handleNodeClick,\r\n      handleCommand,\r\n      collapsetree,\r\n      handleNodeExpand,\r\n      handleNodeCollapse,\r\n      allowDrop,\r\n      allowDrag,\r\n      handleDrop,\r\n      leastOne,\r\n    };\r\n  },\r\n});\r\n</script>\r\n<style lang=\"less\">\r\n.fmcoe-tree {\r\n  display: inline-block;\r\n  // padding: 36px 32px;\r\n  .fmcoe-tree-show {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 21vw;\r\n    position: relative;\r\n    height: calc(100vh - var(--header-height) - 20px);\r\n    padding: 36px 32px;\r\n    background-color: var(--coe-content-bg-color);\r\n    border-radius: 21px;\r\n    .titlestyle {\r\n      line-height: 1;\r\n      font-size: 24px;\r\n      font-family: OPPOSans-B;\r\n      font-weight: 500;\r\n      color: var(--text-level-one);\r\n    }\r\n    .el-input {\r\n      height: 40px;\r\n      margin-bottom: 26px;\r\n    }\r\n    .el-input__wrapper {\r\n      border-radius: 17px;\r\n    }\r\n    .fmone-tree-search + .scroll-content {\r\n      height: calc(100% - 65px - 58px);\r\n    }\r\n    .scroll-content {\r\n      flex: 1;\r\n      display: flex;\r\n      overflow: auto;\r\n      height: calc(100% - 65px);\r\n    }\r\n    .el-tree {\r\n      //overflow: auto;\r\n      .el-tree-node__content {\r\n        //display: inline-block;\r\n        margin-bottom: 8px;\r\n        height: 40px;\r\n        line-height: 40px;\r\n        width: 100%;\r\n        border-radius: 20px;\r\n      }\r\n    }\r\n  }\r\n  .tree-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 34px;\r\n  }\r\n  &:hover {\r\n    .rightsvg {\r\n      display: inline-block;\r\n    }\r\n  }\r\n  .sub-title{\r\n    margin:  -10px 0 14px;\r\n  }\r\n}\r\n.custom-tree-node {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  width: calc(100% - 36px)\r\n  //vertical-align: middle;\r\n}\r\n.rightsvg {\r\n  width: 24px;\r\n  height: 72px;\r\n  position: absolute;\r\n  right: -12px;\r\n  top: 145px;\r\n  display: none;\r\n  line-height: 72px;\r\n  text-align: center;\r\n  background-color: var(--content-bg-color);\r\n  border: 1px solid var(--bg-color);\r\n  cursor: pointer;\r\n  box-shadow: 0px 1px 14px 0px rgba(179, 179, 179, 0.18);\r\n  border-radius: 12px;\r\n}\r\n.collapse {\r\n  width: 66px;\r\n  height: 66px;\r\n  text-align: center;\r\n  background-color: var(--coe-content-bg-color);\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  line-height: 66px;\r\n  border-radius: 50% !important;\r\n}\r\n.el-dropdown-menu__item {\r\n  height: 40px;\r\n}\r\n.el-dropdown-menu__item:not(.is-disabled):focus {\r\n  border-radius: 20px !important;\r\n  background: #f2f2f2 !important;\r\n  color: var(--text-level-one);\r\n}\r\n.dropdownmeunstyle {\r\n  background: #ffffff;\r\n  box-shadow: 0px 0px 10px 0px rgba(179, 179, 179, 0.3);\r\n  border-radius: 14px;\r\n  padding: 12px 11px;\r\n  min-width: 140px;\r\n}\r\n.el-popper__arrow {\r\n  display: none;\r\n}\r\n\r\n.fmone-tree-search{\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 26px;\r\n  background-color: var(--el-fill-color-light);\r\n  border-radius: 20px;\r\n  &.more-search:after{\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    display: block;\r\n    width: 1px;\r\n    height: 18px;\r\n    background-color: var(--el-tree-active);\r\n    transform: translate(-50%, -50%);\r\n  }\r\n  >*{\r\n    flex: 1;\r\n  }\r\n  .el-input{\r\n    margin-bottom: 0 !important;\r\n  }\r\n  .el-input__wrapper{\r\n    box-shadow: none !important;\r\n    background-color: var(--el-fill-color-light);\r\n  }\r\n}\r\n</style>\r\n"],"names":["_sfc_main","defineComponent","defaultProps","props","emit","expose","fmoneTree","ref","eltree","filterInput","defaultPropLabel","preset","menuList","computed","inputchange","val","watch","nextTick","filterNode","value","data","currentNodeData","currentNode","handleNodeClick","node","normalMenu","item","headerbutton","handleCommand","showtree","collapsetree","setCurrentKey","key","removeSelectNode","expandedKeys","setExpandedKeys","handleNodeExpand","handleNodeCollapse","_data","recursiveNode","index","childNode","getCurrentNode","getCurrentKey","getNode","allowDrop","draggingNode","dropNodee","type","allowDrag","action","handleDrop","dropNode","dropType","parentNode","targetNode","hasPermission","permission","permissionFlag","leastOne","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_6","_hoisted_7","_hoisted_8","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_Transition","_withCtx","_withDirectives","_createElementVNode","_ctx","args","_component_svg_icon","_toDisplayString","_hoisted_5","_renderSlot","_createCommentVNode","_createBlock","_component_el_input","_cache","$event","_component_el_tree","_createTextVNode","_hoisted_9","_component_el_dropdown","_component_el_dropdown_menu","_Fragment","_renderList","_component_el_dropdown_item","_component_el_link","_directive_has_permission"],"mappings":"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"}